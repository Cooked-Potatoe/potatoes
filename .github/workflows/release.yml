name: Publish Release
on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
        - name: Download project
          uses: actions/checkout@v2

        - name: Setup Node
          uses: actions/setup-node@v2

        - name: Build project
          run: |
            npm ci
            tsc

        - name: Create release
          uses: elgohr/Github-Release-Action@master
          env:
            GITHUB_TOKEN: ${{ github.GITHUB_TOKEN }}
          with:
            args: Release made by Github Action, SHA of this release ${{ github.GITHUB_SHA }}
